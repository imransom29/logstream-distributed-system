# Distributed Logging System(BIG DATA)

## Project Overview

Effective log management is crucial for operational excellence in a microservices architecture. This project aims to streamline the collection, storage, and analysis of logs generated by various services, enhancing the ability to quickly track application behavior and identify errors. By capturing relevant metadata alongside each log entry and enabling real-time ingestion and querying, the system improves operational visibility and facilitates proactive responses to potential issues. Ultimately, this distributed logging framework enhances resilience and maintainability in a dynamic application landscape.



![video]([{"id":1768088084367,"x":5583.709909247999,"y":145.90601426729606,"w":1290,"h":244,"component":"SimpleText","selected":true,"settings":{"text":"Microservices","fontSizeRate":0.2627817916222512,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":1768088338221,"x":4014.8929439699286,"y":601.9074693070413,"w":717.81499394016,"h":102.36188306442585,"component":"SimpleText","selected":true,"settings":{"text":"Microservices / Node 1 ","fontSizeRate":0.16645960050408667,"textColor":"#fff","borderColor":"#000000","textAnimation":"pulse","animationSpeed":"slow","animationSpeedOff":"yes"}},{"id":"1768088507119-6wnergi42","x":3797.4973996783533,"y":489.75442366830816,"w":1136.0252774862656,"h":286.2425896028385,"selected":true,"component":"FullGradientRect","settings":{"animationSpeed":"no-animation","borderColor":"#51b39a","startX":"0","startY":"0","endX":"100","endY":"100","animationSpeedOff":"yes"}},{"id":"1768088610492-lc091omyt","x":3923.660975219044,"y":1273.5611200799633,"w":833,"h":236,"selected":true,"component":"FullGradientRect","settings":{"animationSpeed":"no-animation","borderColor":"#50b396","startX":"0","startY":"0","endX":"100","endY":"100","animationSpeedOff":"yes"}},{"id":"1768088842075-7cft7tupl","x":4153.953113721283,"y":792.9310474048896,"w":1,"h":212,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"normal","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"no-head","animationSpeedOff":"yes"}},{"id":"1768088975457-7osc5wh54","x":4133.753918399919,"y":1336.2221324953982,"w":482.85587505866334,"h":97.06896457364881,"component":"SimpleText","selected":true,"settings":{"text":"Log Accumulator","fontSizeRate":0.22352071999462692,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":1768088986403,"x":4101.624429968436,"y":1000.5990098028446,"w":108.33304889136679,"h":97.06896457364883,"component":"SimpleText","selected":true,"settings":{"text":"Log","fontSizeRate":0.6277105144470855,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":"1768089012092-t7cjl0blk","x":4154.953113721283,"y":1091.9310474048896,"w":2,"h":172,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"normal","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768089052905-5sjb6pdbk","x":4497.852400270978,"y":790.985081542375,"w":1,"h":212,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"slow","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"no-head","animationSpeedOff":"yes"}},{"id":"1768089052905-d5m6wba6j","x":4498.852400270978,"y":1089.9850815423752,"w":2,"h":172,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"slow","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":1768089074731,"x":4370.603206822296,"y":1001.4278776327685,"w":283.3325894081901,"h":97.06896457364883,"component":"SimpleText","selected":true,"settings":{"text":"Heartbeat","fontSizeRate":0.33926276916744735,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":"1768089393340-wf20v2ut1","x":5642.483903379266,"y":468.58365628245724,"w":1136.0252774862656,"h":286.2425896028385,"selected":true,"component":"FullGradientRect","settings":{"animationSpeed":"no-animation","borderColor":"#51b39a","startX":"0","startY":"0","endX":"100","endY":"100","animationSpeedOff":"yes"}},{"id":"1768089393340-17uo4r1p8","x":5836.209945369147,"y":1255.9860272416547,"w":833,"h":236,"selected":true,"component":"FullGradientRect","settings":{"animationSpeed":"no-animation","borderColor":"#5097b3","startX":"0","startY":"0","endX":"100","endY":"100","animationSpeedOff":"yes"}},{"id":"1768089393340-qb9ybsfzu","x":6030.576753101693,"y":775.3559545665811,"w":1,"h":212,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"normal","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"no-head","animationSpeedOff":"yes"}},{"id":"1768089393340-i1cytu60h","x":6010.377557780329,"y":1318.64703965709,"w":482.85587505866334,"h":97.06896457364881,"component":"SimpleText","selected":true,"settings":{"text":"Log Accumulator","fontSizeRate":0.22352071999462692,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":"1768089393340-ru0solfd1","x":5978.248069348844,"y":983.0239169645363,"w":108.33304889136679,"h":97.06896457364883,"component":"SimpleText","selected":true,"settings":{"text":"Log","fontSizeRate":0.6277105144470855,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":"1768089393340-qir6l56lu","x":6031.576753101693,"y":1074.355954566581,"w":2,"h":172,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"normal","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768089393340-wpqwgkwzi","x":6374.4760396513875,"y":773.4099887040666,"w":1,"h":212,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"slow","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"no-head","animationSpeedOff":"yes"}},{"id":"1768089393340-n9q8x5isx","x":6375.4760396513875,"y":1072.4099887040668,"w":2,"h":172,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"slow","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768089393340-slu3g1on2","x":6247.226846202705,"y":983.8527847944599,"w":283.3325894081901,"h":97.06896457364883,"component":"SimpleText","selected":true,"settings":{"text":"Heartbeat","fontSizeRate":0.33926276916744735,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":1768089429749,"x":5891.516583350337,"y":584.3323764687328,"w":717.8149939401599,"h":102.36188306442585,"component":"SimpleText","selected":true,"settings":{"text":"Microservices / Node 2 ","fontSizeRate":0.16659189004326252,"textColor":"#fff","borderColor":"#000000","textAnimation":"pulse","animationSpeed":"slow","animationSpeedOff":"yes"}},{"id":"1768089452009-814f4orvl","x":7477.9242163571735,"y":449.76554724602215,"w":1136.0252774862656,"h":286.2425896028385,"selected":true,"component":"FullGradientRect","settings":{"animationSpeed":"no-animation","borderColor":"#51b39a","startX":"0","startY":"0","endX":"100","endY":"100","animationSpeedOff":"yes"}},{"id":"1768089452009-hr0nusbra","x":7635.902512289492,"y":1240.6063274219546,"w":833,"h":236,"selected":true,"component":"FullGradientRect","settings":{"animationSpeed":"no-animation","borderColor":"#5097b3","startX":"0","startY":"0","endX":"100","endY":"100","animationSpeedOff":"yes"}},{"id":"1768089452009-75hqh5j0u","x":7830.269320022037,"y":759.976254746881,"w":1,"h":212,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"normal","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"no-head","animationSpeedOff":"yes"}},{"id":"1768089452009-fv1od15ap","x":7810.070124700674,"y":1303.26733983739,"w":482.85587505866334,"h":97.06896457364881,"component":"SimpleText","selected":true,"settings":{"text":"Log Accumulator","fontSizeRate":0.22352071999462692,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":"1768089452009-86vrxk7gj","x":7777.940636269191,"y":967.6442171448361,"w":108.33304889136679,"h":97.06896457364883,"component":"SimpleText","selected":true,"settings":{"text":"Log","fontSizeRate":0.6277105144470855,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":"1768089452009-znzf6fzcv","x":7831.269320022037,"y":1058.9762547468808,"w":2,"h":172,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"normal","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768089452009-8l8vmovur","x":8174.168606571732,"y":758.0302888843664,"w":1,"h":212,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"slow","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"no-head","animationSpeedOff":"yes"}},{"id":"1768089452009-vgi4mxddn","x":8175.168606571732,"y":1057.0302888843667,"w":2,"h":172,"selected":true,"component":"ArrowBar","settings":{"animationSpeed":"slow","thickness":"narrow","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768089452009-r44euph30","x":8046.91941312305,"y":968.4730849747598,"w":283.3325894081901,"h":97.06896457364883,"component":"SimpleText","selected":true,"settings":{"text":"Heartbeat","fontSizeRate":0.33926276916744735,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":1768089481400,"x":7691.2091502706835,"y":568.9526766490327,"w":698.9251256785767,"h":102.36188306442585,"component":"SimpleText","selected":true,"settings":{"text":"Microservices / Node 3","fontSizeRate":0.1706934661942696,"textColor":"#fff","borderColor":"#000000","textAnimation":"pulse","animationSpeed":"slow","animationSpeedOff":"yes"}},{"id":"1768089737369-59ix44fxd","x":3331.072292956625,"y":27.543630558670458,"w":5763,"h":1627,"selected":true,"component":"LoaderRect","settings":{"animationSpeed":"slow","flowColor":"#ffffff","borderColor":"#ffffff","animationSpeedOff":"no","startX":"0","startY":"0","endX":"100","endY":"100"}},{"id":"1768089842100-70v4qv1u0","x":5793.897911321604,"y":2717.237296492054,"w":1852.2655889418265,"h":990.7467103642323,"selected":true,"component":"AnimatedRedCircle","settings":{"animationSpeed":"slow","shapeColor":"#44958a","borderColor":"#4fa299","startX":"0","startY":"0","endX":"100","endY":"100","animationSpeedOff":"yes"}},{"id":"1768090096634-2gqjtx813","x":4341.0722929566255,"y":1517.5436305586704,"w":5,"h":1606,"selected":true,"component":"ArrowProgress","settings":{"animationSpeed":"normal","thickness":"normal","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"no-head","animationSpeedOff":"yes"}},{"id":1768090210583,"x":5849.1833284501345,"y":3154.756051887337,"w":889.1588619979377,"h":178.74843102020398,"component":"SimpleText","selected":true,"settings":{"text":"Pub - Sub Model","fontSizeRate":0.22351642207144384,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"no-animation","animationSpeedOff":"yes"}},{"id":"1768090253226-wtd38yqf6","x":6262.072292956625,"y":1493.5436305586704,"w":2,"h":961,"selected":true,"component":"ArrowProgress","settings":{"animationSpeed":"normal","thickness":"normal","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768090358385-y026gjtaa","x":4338.629365657665,"y":3126.135599890864,"w":1115.5349538367855,"h":4.903450346535465,"selected":true,"component":"ArrowProgress","settings":{"animationSpeed":"normal","thickness":"normal","shapeColor":"#00ee00","flowColor":"#e30707","startX":"0","startY":"0","endX":"100","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768090422355-fbor8zekh","x":8046.072292956625,"y":1487.5436305586704,"w":5,"h":1627,"selected":true,"component":"ArrowProgress","settings":{"animationSpeed":"normal","thickness":"normal","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"no-head","animationSpeedOff":"yes"}},{"id":"1768090580277-er6tcyc9u","x":7066.582715022366,"y":3117.0332084929305,"w":982,"h":6,"selected":true,"component":"ArrowProgress","settings":{"animationSpeed":"normal","thickness":"normal","shapeColor":"#00ee00","flowColor":"#e30707","startX":"100","startY":"0","endX":"0","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768091019074-l88k9x5pj","x":8348.072292956625,"y":4101.543630558671,"w":893,"h":228,"selected":true,"component":"AnimatedRecRotate","settings":{"animationSpeed":"normal","shapeColor":"#232323","borderColor":"#232323","flowColor":"#e30707","startX":"0","startY":"0","endX":"100","endY":"100","animationSpeedOff":"yes"}},{"id":1768091098003,"x":8565.36223726338,"y":4148.543630558671,"w":496,"h":127,"component":"SimpleText","selected":true,"settings":{"text":"Node Failures","fontSizeRate":0.2590822449462843,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"normal","animationSpeedOff":"yes"}},{"id":"1768091233260-avyzjgjit","x":6577.963761873975,"y":3928.3607569106634,"w":210,"h":196,"selected":true,"component":"Cube3d","settings":{"animationSpeed":"normal","animationSpeedOff":"no","shapeColor":"#9700ed","textColor":"#ffffff","shapeText":"1","startX":"0","startY":"0","endX":"100","endY":"100"}},{"id":"1768091289008-1sh8s4d7u","x":4864.887633339824,"y":4081.4829692457724,"w":835,"h":694,"selected":true,"component":"ArrowCurve","settings":{"animationSpeed":"slow","thickness":"narrow","shapeColor":"#445386","flowColor":"#076fe3","startX":"100","startY":"0","endX":"0","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768091347376-fwvz1mhwd","x":5625.072292956625,"y":3882.543630558671,"w":181,"h":154,"selected":true,"component":"Cube3d","settings":{"animationSpeed":"normal","animationSpeedOff":"no","shapeColor":"#008ded","textColor":"#ffffff","shapeText":"2","startX":"0","startY":"0","endX":"100","endY":"100"}},{"id":"1768091568558-7fmcg22we","x":7458.7968515169605,"y":5225.65840557173,"w":231,"h":180,"selected":true,"component":"Loader7","settings":{"animationSpeed":"normal","shapeColor":"#ffffff","animationSpeedOff":"no","startX":"0","startY":"0","endX":"100","endY":"100"}},{"id":1768091599935,"x":7685.470058358126,"y":5233.543630558671,"w":642,"h":159,"component":"SimpleText","selected":true,"settings":{"text":"Altering System","fontSizeRate":0.23541202595179556,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"normal","animationSpeedOff":"yes"}},{"id":"1768091629976-7mkvg98vu","x":6764.072292956625,"y":4292.543630558671,"w":710,"h":922,"selected":true,"component":"Arrow","settings":{"animationSpeed":"fast","thickness":"normal","shapeColor":"#d000ed","flowColor":"#ffcafe","startX":"0","startY":"0","endX":"100","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768091700724-ia4kax26j","x":7442.127519825327,"y":3526.543630558671,"w":1213,"h":491,"selected":true,"component":"ArrowCurveReverse","settings":{"animationSpeed":"fast","thickness":"bold","shapeColor":"#5b3030","flowColor":"#e30707","startX":"0","startY":"0","endX":"100","endY":"100","head":"end","animationSpeedOff":"yes"}},{"id":"1768091765823-atyi7hpwq","x":7156.072292956625,"y":3427.543630558671,"w":182,"h":180,"selected":true,"component":"Cube3d","settings":{"animationSpeed":"normal","animationSpeedOff":"no","shapeColor":"#ed0000","textColor":"#ffffff","shapeText":"3","startX":"0","startY":"0","endX":"100","endY":"100"}},{"id":"1768091888773-c0zy4qv20","x":3943.571257055165,"y":4748.77347951321,"w":893,"h":228,"selected":true,"component":"AnimatedRecRotate","settings":{"animationSpeed":"normal","shapeColor":"#232323","borderColor":"#232323","flowColor":"#0783e3","startX":"0","startY":"0","endX":"100","endY":"100","animationSpeedOff":"yes"}},{"id":1768091908818,"x":4131.149468002632,"y":4792.494708198952,"w":525.2413435065681,"h":144.2564253292687,"component":"SimpleText","selected":true,"settings":{"text":"Log Storage","fontSizeRate":0.287858146826684,"textColor":"#fff","borderColor":"#000000","textAnimation":"none","animationSpeed":"normal","animationSpeedOff":"yes"}}])



## System Architecture & Flow
![image](https://github.com/user-attachments/assets/60db1e53-cc5f-47db-b429-680677d1f3d8)


### Components

1. **Microservices(Process):** Represent distributed nodes that independently generate logs and send heartbeat signals to monitor their status.
2. **Log Accumulator:** Collects log data from each node, structures it, and forwards it to the Pub-Sub model for centralized log management.
3. **Pub-Sub Model:**  Acts as a communication layer, facilitating reliable, asynchronous distribution of logs.
4. **Log Storage:** A system for indexing and storing logs in a searchable format for easy access and monitoring.
5. **Alerting System:** Listens for specific log levels (e.g., ERROR, FATAL, etc) in real-time, generating alerts to ensure prompt responses to critical events.
6. **Heartbeat Mechanism:** Provides failure detection by alerting when a node stops sending heartbeats, signaling that the node may have failed.

---

## Tools & Technologies

- **Programming Language:** Python
- **Log Accumulator:** Fluentd 
- **Pub-Sub Model:** Apache Kafka
- **Log Storage:** Elasticsearch
- **Visualization:** Kibana

---

## Log Levels

- **INFO:** General system operations information.
- **WARN:** Indications of potential issues.
- **ERROR:** Errors that allow continued operation.
- **FATAL:** Critical issues requiring immediate attention.

---

## Metadata for Logs

**Example Structures:**

- **Microservice Registration Message:**
```json
{
    "node_id": "<unique node-id>",
    "message_type": "REGISTRATION",
    "service_name": "PaymentService",
    "timestamp": "<timestamp>"
}
```

- **INFO Log:**
```json
{
    "log_id": "<unique log-id>",
    "node_id": "<node-id>",
    "log_level": "INFO",
    "message_type": "LOG",
    "message": "<Log Message>",
    "service_name": "<ServiceName>",
    "timestamp": "<timestamp>"
}
```

- **WARN Log:**
```json
{
    "log_id": "<unique log-id>",
    "node_id": "<node-id>",
    "log_level": "WARN",
    "message_type": "LOG",
    "message": "",
    "service_name": "<ServiceName>",
    "response_time_ms": "",
    "threshold_limit_ms": "",
    "timestamp": "<timestamp>"
}
```

- **ERROR Log:**
```json
{
    "log_id": "<unique log-id>",
    "node_id": "<node-id>",
    "log_level": "ERROR",
    "message_type": "LOG",
    "message": "",
    "service_name": "<ServiceName>",
    "error_details": {
        "error_code": "",
        "error_message": ""
    },
    "timestamp": "<timestamp>"
}
```

- **Heartbeat Message:**
```json
{
    "node_id": "<node-id>",
    "message_type": "HEARTBEAT",
    "status": "UP/DOWN",
    "timestamp": "<timestamp>"
}
```

- **Microservice Registry:**
```json
{
    "message_type":"REGISTRATION",
    "node_id": "<node-id>",
    "service_name": "<ServiceName>",
    "status": "UP/DOWN",
    "timestamp": "<timestamp>"
}
```


## References

- [Distributed Logging System Design on Medium](<https://medium.com/@krrishan7495/distributed-logging-designing-a-robust-system-for-enhanced-monitoring-64ddb0838882>)
- [Distributed Logging Architecture on DZone](<https://dzone.com/articles/distributed-logging-architecture-for-microservices>)
- [Remote Kafka Connection Guide by Bitnami](<https://docs.bitnami.com/google-templates/infrastructure/kafka/administration/connect-remotely/>)
- [Fluentd Output to Kafka Documentation](<https://docs.fluentd.org/0.12/output/kafka>)
- [Python Client for Elasticsearch - Getting Started Guide](<https://www.elastic.co/guide/en/elasticsearch/client/python-api/current/getting-started-python.html>)


